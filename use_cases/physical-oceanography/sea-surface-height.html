<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Sea Surface Altimetry Data Analysis &#8212; Pangeo  documentation</title>
    <link rel="stylesheet" href="../../_static/pangeo-style.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/example_gallery_styles.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/copybutton.css" type="text/css" />
    <link rel="stylesheet" href="https://netdna.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/example_gallery_styles_patched.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js"></script>
    <script type="text/javascript" src="../../_static/copybutton.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="../../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../../_static/bootstrap-3.3.7/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../../_static/bootstrap-sphinx.js"></script>
    <link rel="author" title="About these documents" href="../../about.html" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="SOSE Heat and Salt Budgets" href="SOSE.html" />
    <link rel="prev" title="Physical Oceanography" href="index.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

  </head>
  <body>

  <div id="navbar" class="navbar navbar-inverse navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../../index.html">
            <span><img src="../../_static/small_e_reversed_24px.png"></span>
          Pangeo</a>
        <span class="navbar-text navbar-version pull-left"><b></b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
                <li><a href="https://medium.com/pangeo">Blog</a></li>
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../../index.html">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../about.html">About Pangeo</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../about.html#motivation">Motivation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../about.html#mission-statement">Mission Statement</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../about.html#goals">Goals</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../about.html#get-involved">Get Involved</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../faq.html">Frequently Asked Questions</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../quickstart.html">Guide for Scientists</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../quickstart.html#learn-about-pangeo-software">Learn About Pangeo Software</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../../quickstart.html#explore-the-use-cases">Explore the Use Cases</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../quickstart.html#try-out-a-pangeo-deployment">Try Out a Pangeo Deployment</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../quickstart.html#give-feedback">Give Feedback</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../quickstart.html#contribute-a-use-case">Contribute a Use Case</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../quickstart.html#contribute-data">Contribute Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../quickstart.html#become-an-open-source-contributor">Become an Open Source Contributor</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../packages.html">Packages</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../packages.html#pangeo-core-packages">Pangeo Core Packages</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../packages.html#pangeo-affiliated-packages">Pangeo Affiliated Packages</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../packages.html#guidelines-for-new-packages">Guidelines for New Packages</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Geoscience Use Cases</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="index.html">Physical Oceanography</a></li>
<li class="toctree-l2"><a class="reference internal" href="../climate-modeling/index.html">Climate modeling</a></li>
<li class="toctree-l2"><a class="reference internal" href="../meteorology/index.html">Meteorology</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../architecture.html">Technical Architecture</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../architecture.html#where-we-began">Where we began</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../architecture.html#interoperability-in-pangeo">Interoperability in Pangeo</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../architecture.html#software">Software</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../architecture.html#compute-platforms">Compute Platforms</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../architecture.html#storage-formats">Storage Formats</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../setup_guides/index.html">Deployment Setup Guides</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../setup_guides/index.html#setting-up-pangeo-on-hpc-systems">Setting up Pangeo on HPC Systems</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../setup_guides/index.html#setting-up-pangeo-on-cloud-systems">Setting up Pangeo on Cloud Systems</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../deployments.html">Deployments</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../deployments.html#pangeo-provided-cloud-deployments">Pangeo provided Cloud Deployments</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../deployments.html#other-cloud-deployments">Other Cloud deployments</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../deployments.html#high-performance-computing-deployments">High Performance Computing Deployments</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../data.html">Pangeo and Data</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../data.html#data-on-hpc">Data on HPC</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../data.html#data-in-the-cloud">Data in the Cloud</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../catalog.html">Pangeo Data Catalog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../collaborators.html">Collaborators</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../collaborators.html#funding-agencies">Funding Agencies</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../collaborators.html#institutions">Institutions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../collaborators.html#people">People</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../meeting-notes.html">Pangeo Weekly Meeting Notes</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../meeting-notes.html#meeting-calendar">Meeting Calendar</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../meeting-notes.html#id1">Meeting Notes</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../meetings/index.html">Pangeo Conferences</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../meetings/index.html#future-meetings">Future Meetings</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../meetings/index.html#past-meetings">Past Meetings</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../contact.html">Contact Pangeo</a></li>
</ul>
</ul>
</li>
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"><ul>
<li><a class="reference internal" href="#">Sea Surface Altimetry Data Analysis</a><ul>
<li><a class="reference internal" href="#initialize-dataset">Initialize Dataset</a></li>
<li><a class="reference internal" href="#examine-metadata">Examine Metadata</a></li>
<li><a class="reference internal" href="#create-and-connect-to-dask-distributed-cluster">Create and Connect to Dask Distributed Cluster</a><ul>
<li><a class="reference internal" href="#visually-examine-some-of-the-data">Visually Examine Some of the Data</a></li>
<li><a class="reference internal" href="#timeseries-of-global-mean-sea-level">Timeseries of Global Mean Sea Level</a></li>
<li><a class="reference internal" href="#sea-level-variability">Sea Level Variability</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</ul>
</li>
              
            
            
              
                
  <li>
    <a href="index.html" title="Previous Chapter: Physical Oceanography"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; Physical Oceanography</span>
    </a>
  </li>
  <li>
    <a href="SOSE.html" title="Next Chapter: SOSE Heat and Salt Budgets"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">SOSE Heat and... &raquo;</span>
    </a>
  </li>
              
            
            
            
            
          </ul>

          
            
            
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
      <div class="col-md-3">
        <div id="sidebar" class="bs-sidenav" role="complementary"><ul>
<li><a class="reference internal" href="#">Sea Surface Altimetry Data Analysis</a><ul>
<li><a class="reference internal" href="#initialize-dataset">Initialize Dataset</a></li>
<li><a class="reference internal" href="#examine-metadata">Examine Metadata</a></li>
<li><a class="reference internal" href="#create-and-connect-to-dask-distributed-cluster">Create and Connect to Dask Distributed Cluster</a><ul>
<li><a class="reference internal" href="#visually-examine-some-of-the-data">Visually Examine Some of the Data</a></li>
<li><a class="reference internal" href="#timeseries-of-global-mean-sea-level">Timeseries of Global Mean Sea Level</a></li>
<li><a class="reference internal" href="#sea-level-variability">Sea Level Variability</a></li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
      </div>
    <div class="col-md-9 content ">
      
  <div class="section" id="sea-surface-altimetry-data-analysis">
<span id="gallery-use-cases-physical-oceanography-sea-surface-height-ipynb"></span><h1>Sea Surface Altimetry Data Analysis<a class="headerlink" href="#sea-surface-altimetry-data-analysis" title="Permalink to this headline">¶</a></h1>
<p>Example on using the gridded sea-surface altimetry data from The
Copernicus Marine Environment</p>
<p><a class="reference external" href="http://marine.copernicus.eu/services-portfolio/access-to-products/?option=com_csw&amp;view=details&amp;product_id=SEALEVEL_GLO_PHY_L4_REP_OBSERVATIONS_008_047">http://marine.copernicus.eu/services-portfolio/access-to-products/?option=com_csw&amp;view=details&amp;product_id=SEALEVEL_GLO_PHY_L4_REP_OBSERVATIONS_008_047</a></p>
<p>This is a widely used dataset in physical oceanography and climate.</p>
<div class="figure" id="id1">
<img alt="globe image" src="http://marine.copernicus.eu/documents/IMG/SEALEVEL_GLO_SLA_MAP_L4_REP_OBSERVATIONS_008_027.png" />
<p class="caption"><span class="caption-text">globe image</span></p>
</div>
<p>The dataset has already been extracted from copernicus and stored in
google cloud storage in
<a class="reference external" href="http://xarray.pydata.org/en/latest/io.html#zarr">xarray-zarr</a>
format.</p>
<div class="highlight-ipython3"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">xarray</span> <span class="k">as</span> <span class="nn">xr</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">gcsfs</span>
<span class="n">plt</span><span class="o">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s1">&#39;figure.figsize&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="mi">15</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
<div class="section" id="initialize-dataset">
<h2>Initialize Dataset<a class="headerlink" href="#initialize-dataset" title="Permalink to this headline">¶</a></h2>
<p>Here we load the dataset from the zarr store. Note that this very large
dataset initializes nearly instantly, and we can see the full list of
variables and coordinates.</p>
<div class="highlight-ipython3"><div class="highlight"><pre><span></span><span class="n">gcsmap</span> <span class="o">=</span> <span class="n">gcsfs</span><span class="o">.</span><span class="n">mapping</span><span class="o">.</span><span class="n">GCSMap</span><span class="p">(</span><span class="s1">&#39;pangeo-data/dataset-duacs-rep-global-merged-allsat-phy-l4-v3-alt&#39;</span><span class="p">)</span>
<span class="n">ds</span> <span class="o">=</span> <span class="n">xr</span><span class="o">.</span><span class="n">open_zarr</span><span class="p">(</span><span class="n">gcsmap</span><span class="p">)</span>
<span class="n">ds</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">xarray</span><span class="o">.</span><span class="n">Dataset</span><span class="o">&gt;</span>
<span class="n">Dimensions</span><span class="p">:</span>    <span class="p">(</span><span class="n">latitude</span><span class="p">:</span> <span class="mi">720</span><span class="p">,</span> <span class="n">longitude</span><span class="p">:</span> <span class="mi">1440</span><span class="p">,</span> <span class="n">nv</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="n">time</span><span class="p">:</span> <span class="mi">8901</span><span class="p">)</span>
<span class="n">Coordinates</span><span class="p">:</span>
    <span class="n">crs</span>        <span class="n">int32</span> <span class="o">...</span>
    <span class="n">lat_bnds</span>   <span class="p">(</span><span class="n">time</span><span class="p">,</span> <span class="n">latitude</span><span class="p">,</span> <span class="n">nv</span><span class="p">)</span> <span class="n">float32</span> <span class="n">dask</span><span class="o">.</span><span class="n">array</span><span class="o">&lt;</span><span class="n">shape</span><span class="o">=</span><span class="p">(</span><span class="mi">8901</span><span class="p">,</span> <span class="mi">720</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="n">chunksize</span><span class="o">=</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">720</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span><span class="o">&gt;</span>
  <span class="o">*</span> <span class="n">latitude</span>   <span class="p">(</span><span class="n">latitude</span><span class="p">)</span> <span class="n">float32</span> <span class="o">-</span><span class="mf">89.875</span> <span class="o">-</span><span class="mf">89.625</span> <span class="o">-</span><span class="mf">89.375</span> <span class="o">-</span><span class="mf">89.125</span> <span class="o">-</span><span class="mf">88.875</span> <span class="o">...</span>
    <span class="n">lon_bnds</span>   <span class="p">(</span><span class="n">longitude</span><span class="p">,</span> <span class="n">nv</span><span class="p">)</span> <span class="n">float32</span> <span class="n">dask</span><span class="o">.</span><span class="n">array</span><span class="o">&lt;</span><span class="n">shape</span><span class="o">=</span><span class="p">(</span><span class="mi">1440</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="n">chunksize</span><span class="o">=</span><span class="p">(</span><span class="mi">1440</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span><span class="o">&gt;</span>
  <span class="o">*</span> <span class="n">longitude</span>  <span class="p">(</span><span class="n">longitude</span><span class="p">)</span> <span class="n">float32</span> <span class="mf">0.125</span> <span class="mf">0.375</span> <span class="mf">0.625</span> <span class="mf">0.875</span> <span class="mf">1.125</span> <span class="mf">1.375</span> <span class="mf">1.625</span> <span class="o">...</span>
  <span class="o">*</span> <span class="n">nv</span>         <span class="p">(</span><span class="n">nv</span><span class="p">)</span> <span class="n">int32</span> <span class="mi">0</span> <span class="mi">1</span>
  <span class="o">*</span> <span class="n">time</span>       <span class="p">(</span><span class="n">time</span><span class="p">)</span> <span class="n">datetime64</span><span class="p">[</span><span class="n">ns</span><span class="p">]</span> <span class="mi">1993</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">01</span> <span class="mi">1993</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">02</span> <span class="mi">1993</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">03</span> <span class="o">...</span>
<span class="n">Data</span> <span class="n">variables</span><span class="p">:</span>
    <span class="n">adt</span>        <span class="p">(</span><span class="n">time</span><span class="p">,</span> <span class="n">latitude</span><span class="p">,</span> <span class="n">longitude</span><span class="p">)</span> <span class="n">float64</span> <span class="n">dask</span><span class="o">.</span><span class="n">array</span><span class="o">&lt;</span><span class="n">shape</span><span class="o">=</span><span class="p">(</span><span class="mi">8901</span><span class="p">,</span> <span class="mi">720</span><span class="p">,</span> <span class="mi">1440</span><span class="p">),</span> <span class="n">chunksize</span><span class="o">=</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">720</span><span class="p">,</span> <span class="mi">1440</span><span class="p">)</span><span class="o">&gt;</span>
    <span class="n">err</span>        <span class="p">(</span><span class="n">time</span><span class="p">,</span> <span class="n">latitude</span><span class="p">,</span> <span class="n">longitude</span><span class="p">)</span> <span class="n">float64</span> <span class="n">dask</span><span class="o">.</span><span class="n">array</span><span class="o">&lt;</span><span class="n">shape</span><span class="o">=</span><span class="p">(</span><span class="mi">8901</span><span class="p">,</span> <span class="mi">720</span><span class="p">,</span> <span class="mi">1440</span><span class="p">),</span> <span class="n">chunksize</span><span class="o">=</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">720</span><span class="p">,</span> <span class="mi">1440</span><span class="p">)</span><span class="o">&gt;</span>
    <span class="n">sla</span>        <span class="p">(</span><span class="n">time</span><span class="p">,</span> <span class="n">latitude</span><span class="p">,</span> <span class="n">longitude</span><span class="p">)</span> <span class="n">float64</span> <span class="n">dask</span><span class="o">.</span><span class="n">array</span><span class="o">&lt;</span><span class="n">shape</span><span class="o">=</span><span class="p">(</span><span class="mi">8901</span><span class="p">,</span> <span class="mi">720</span><span class="p">,</span> <span class="mi">1440</span><span class="p">),</span> <span class="n">chunksize</span><span class="o">=</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">720</span><span class="p">,</span> <span class="mi">1440</span><span class="p">)</span><span class="o">&gt;</span>
    <span class="n">ugos</span>       <span class="p">(</span><span class="n">time</span><span class="p">,</span> <span class="n">latitude</span><span class="p">,</span> <span class="n">longitude</span><span class="p">)</span> <span class="n">float64</span> <span class="n">dask</span><span class="o">.</span><span class="n">array</span><span class="o">&lt;</span><span class="n">shape</span><span class="o">=</span><span class="p">(</span><span class="mi">8901</span><span class="p">,</span> <span class="mi">720</span><span class="p">,</span> <span class="mi">1440</span><span class="p">),</span> <span class="n">chunksize</span><span class="o">=</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">720</span><span class="p">,</span> <span class="mi">1440</span><span class="p">)</span><span class="o">&gt;</span>
    <span class="n">ugosa</span>      <span class="p">(</span><span class="n">time</span><span class="p">,</span> <span class="n">latitude</span><span class="p">,</span> <span class="n">longitude</span><span class="p">)</span> <span class="n">float64</span> <span class="n">dask</span><span class="o">.</span><span class="n">array</span><span class="o">&lt;</span><span class="n">shape</span><span class="o">=</span><span class="p">(</span><span class="mi">8901</span><span class="p">,</span> <span class="mi">720</span><span class="p">,</span> <span class="mi">1440</span><span class="p">),</span> <span class="n">chunksize</span><span class="o">=</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">720</span><span class="p">,</span> <span class="mi">1440</span><span class="p">)</span><span class="o">&gt;</span>
    <span class="n">vgos</span>       <span class="p">(</span><span class="n">time</span><span class="p">,</span> <span class="n">latitude</span><span class="p">,</span> <span class="n">longitude</span><span class="p">)</span> <span class="n">float64</span> <span class="n">dask</span><span class="o">.</span><span class="n">array</span><span class="o">&lt;</span><span class="n">shape</span><span class="o">=</span><span class="p">(</span><span class="mi">8901</span><span class="p">,</span> <span class="mi">720</span><span class="p">,</span> <span class="mi">1440</span><span class="p">),</span> <span class="n">chunksize</span><span class="o">=</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">720</span><span class="p">,</span> <span class="mi">1440</span><span class="p">)</span><span class="o">&gt;</span>
    <span class="n">vgosa</span>      <span class="p">(</span><span class="n">time</span><span class="p">,</span> <span class="n">latitude</span><span class="p">,</span> <span class="n">longitude</span><span class="p">)</span> <span class="n">float64</span> <span class="n">dask</span><span class="o">.</span><span class="n">array</span><span class="o">&lt;</span><span class="n">shape</span><span class="o">=</span><span class="p">(</span><span class="mi">8901</span><span class="p">,</span> <span class="mi">720</span><span class="p">,</span> <span class="mi">1440</span><span class="p">),</span> <span class="n">chunksize</span><span class="o">=</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">720</span><span class="p">,</span> <span class="mi">1440</span><span class="p">)</span><span class="o">&gt;</span>
<span class="n">Attributes</span><span class="p">:</span>
    <span class="n">Conventions</span><span class="p">:</span>                     <span class="n">CF</span><span class="o">-</span><span class="mf">1.6</span>
    <span class="n">Metadata_Conventions</span><span class="p">:</span>            <span class="n">Unidata</span> <span class="n">Dataset</span> <span class="n">Discovery</span> <span class="n">v1</span><span class="o">.</span><span class="mi">0</span>
    <span class="n">cdm_data_type</span><span class="p">:</span>                   <span class="n">Grid</span>
    <span class="n">comment</span><span class="p">:</span>                         <span class="n">Sea</span> <span class="n">Surface</span> <span class="n">Height</span> <span class="n">measured</span> <span class="n">by</span> <span class="n">Altimetry</span><span class="o">...</span>
    <span class="n">contact</span><span class="p">:</span>                         <span class="n">servicedesk</span><span class="o">.</span><span class="n">cmems</span><span class="nd">@mercator</span><span class="o">-</span><span class="n">ocean</span><span class="o">.</span><span class="n">eu</span>
    <span class="n">creator_email</span><span class="p">:</span>                   <span class="n">servicedesk</span><span class="o">.</span><span class="n">cmems</span><span class="nd">@mercator</span><span class="o">-</span><span class="n">ocean</span><span class="o">.</span><span class="n">eu</span>
    <span class="n">creator_name</span><span class="p">:</span>                    <span class="n">CMEMS</span> <span class="o">-</span> <span class="n">Sea</span> <span class="n">Level</span> <span class="n">Thematic</span> <span class="n">Assembly</span> <span class="n">Center</span>
    <span class="n">creator_url</span><span class="p">:</span>                     <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">marine</span><span class="o">.</span><span class="n">copernicus</span><span class="o">.</span><span class="n">eu</span>
    <span class="n">date_created</span><span class="p">:</span>                    <span class="mi">2014</span><span class="o">-</span><span class="mi">02</span><span class="o">-</span><span class="mi">26</span><span class="n">T16</span><span class="p">:</span><span class="mi">09</span><span class="p">:</span><span class="mi">13</span><span class="n">Z</span>
    <span class="n">date_issued</span><span class="p">:</span>                     <span class="mi">2014</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">06</span><span class="n">T00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>
    <span class="n">date_modified</span><span class="p">:</span>                   <span class="mi">2015</span><span class="o">-</span><span class="mi">11</span><span class="o">-</span><span class="mi">10</span><span class="n">T19</span><span class="p">:</span><span class="mi">42</span><span class="p">:</span><span class="mi">51</span><span class="n">Z</span>
    <span class="n">geospatial_lat_max</span><span class="p">:</span>              <span class="mf">89.875</span>
    <span class="n">geospatial_lat_min</span><span class="p">:</span>              <span class="o">-</span><span class="mf">89.875</span>
    <span class="n">geospatial_lat_resolution</span><span class="p">:</span>       <span class="mf">0.25</span>
    <span class="n">geospatial_lat_units</span><span class="p">:</span>            <span class="n">degrees_north</span>
    <span class="n">geospatial_lon_max</span><span class="p">:</span>              <span class="mf">359.875</span>
    <span class="n">geospatial_lon_min</span><span class="p">:</span>              <span class="mf">0.125</span>
    <span class="n">geospatial_lon_resolution</span><span class="p">:</span>       <span class="mf">0.25</span>
    <span class="n">geospatial_lon_units</span><span class="p">:</span>            <span class="n">degrees_east</span>
    <span class="n">geospatial_vertical_max</span><span class="p">:</span>         <span class="mf">0.0</span>
    <span class="n">geospatial_vertical_min</span><span class="p">:</span>         <span class="mf">0.0</span>
    <span class="n">geospatial_vertical_positive</span><span class="p">:</span>    <span class="n">down</span>
    <span class="n">geospatial_vertical_resolution</span><span class="p">:</span>  <span class="n">point</span>
    <span class="n">geospatial_vertical_units</span><span class="p">:</span>       <span class="n">m</span>
    <span class="n">history</span><span class="p">:</span>                         <span class="mi">2014</span><span class="o">-</span><span class="mi">02</span><span class="o">-</span><span class="mi">26</span><span class="n">T16</span><span class="p">:</span><span class="mi">09</span><span class="p">:</span><span class="mi">13</span><span class="n">Z</span><span class="p">:</span> <span class="n">created</span> <span class="n">by</span> <span class="n">DUACS</span> <span class="n">D</span><span class="o">...</span>
    <span class="n">institution</span><span class="p">:</span>                     <span class="n">CLS</span><span class="p">,</span> <span class="n">CNES</span>
    <span class="n">keywords</span><span class="p">:</span>                        <span class="n">Oceans</span> <span class="o">&gt;</span> <span class="n">Ocean</span> <span class="n">Topography</span> <span class="o">&gt;</span> <span class="n">Sea</span> <span class="n">Surface</span> <span class="o">...</span>
    <span class="n">keywords_vocabulary</span><span class="p">:</span>             <span class="n">NetCDF</span> <span class="n">COARDS</span> <span class="n">Climate</span> <span class="ow">and</span> <span class="n">Forecast</span> <span class="n">Stand</span><span class="o">...</span>
    <span class="n">license</span><span class="p">:</span>                         <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">marine</span><span class="o">.</span><span class="n">copernicus</span><span class="o">.</span><span class="n">eu</span><span class="o">/</span><span class="n">web</span><span class="o">/</span><span class="mi">27</span><span class="o">-</span><span class="n">servi</span><span class="o">...</span>
    <span class="n">platform</span><span class="p">:</span>                        <span class="n">ERS</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">Topex</span><span class="o">/</span><span class="n">Poseidon</span>
    <span class="n">processing_level</span><span class="p">:</span>                <span class="n">L4</span>
    <span class="n">product_version</span><span class="p">:</span>                 <span class="mf">5.0</span>
    <span class="n">project</span><span class="p">:</span>                         <span class="n">COPERNICUS</span> <span class="n">MARINE</span> <span class="n">ENVIRONMENT</span> <span class="n">MONITORING</span><span class="o">...</span>
    <span class="n">references</span><span class="p">:</span>                      <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">marine</span><span class="o">.</span><span class="n">copernicus</span><span class="o">.</span><span class="n">eu</span>
    <span class="n">source</span><span class="p">:</span>                          <span class="n">Altimetry</span> <span class="n">measurements</span>
    <span class="n">ssalto_duacs_comment</span><span class="p">:</span>            <span class="n">The</span> <span class="n">reference</span> <span class="n">mission</span> <span class="n">used</span> <span class="k">for</span> <span class="n">the</span> <span class="n">altim</span><span class="o">...</span>
    <span class="n">standard_name_vocabulary</span><span class="p">:</span>        <span class="n">NetCDF</span> <span class="n">Climate</span> <span class="ow">and</span> <span class="n">Forecast</span> <span class="p">(</span><span class="n">CF</span><span class="p">)</span> <span class="n">Metadat</span><span class="o">...</span>
    <span class="n">summary</span><span class="p">:</span>                         <span class="n">SSALTO</span><span class="o">/</span><span class="n">DUACS</span> <span class="n">Delayed</span><span class="o">-</span><span class="n">Time</span> <span class="n">Level</span><span class="o">-</span><span class="mi">4</span> <span class="n">sea</span> <span class="n">su</span><span class="o">...</span>
    <span class="n">time_coverage_duration</span><span class="p">:</span>          <span class="n">P1D</span>
    <span class="n">time_coverage_end</span><span class="p">:</span>               <span class="mi">1993</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">01</span><span class="n">T12</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>
    <span class="n">time_coverage_resolution</span><span class="p">:</span>        <span class="n">P1D</span>
    <span class="n">time_coverage_start</span><span class="p">:</span>             <span class="mi">1992</span><span class="o">-</span><span class="mi">12</span><span class="o">-</span><span class="mi">31</span><span class="n">T12</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>
    <span class="n">title</span><span class="p">:</span>                           <span class="n">DT</span> <span class="n">merged</span> <span class="nb">all</span> <span class="n">satellites</span> <span class="n">Global</span> <span class="n">Ocean</span> <span class="n">Gr</span><span class="o">...</span>
</pre></div>
</div>
</div>
<div class="section" id="examine-metadata">
<h2>Examine Metadata<a class="headerlink" href="#examine-metadata" title="Permalink to this headline">¶</a></h2>
<p>For those unfamiliar with this dataset, the variable metadata is very
helpful for understanding what the variables actually represent</p>
<div class="highlight-ipython3"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">ds</span><span class="o">.</span><span class="n">data_vars</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{:&gt;10}</span><span class="s1">: </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="n">ds</span><span class="p">[</span><span class="n">v</span><span class="p">]</span><span class="o">.</span><span class="n">attrs</span><span class="p">[</span><span class="s1">&#39;long_name&#39;</span><span class="p">]))</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span>  <span class="n">adt</span><span class="p">:</span> <span class="n">Absolute</span> <span class="n">dynamic</span> <span class="n">topography</span>
  <span class="n">err</span><span class="p">:</span> <span class="n">Formal</span> <span class="n">mapping</span> <span class="n">error</span>
  <span class="n">sla</span><span class="p">:</span> <span class="n">Sea</span> <span class="n">level</span> <span class="n">anomaly</span>
 <span class="n">ugos</span><span class="p">:</span> <span class="n">Absolute</span> <span class="n">geostrophic</span> <span class="n">velocity</span><span class="p">:</span> <span class="n">zonal</span> <span class="n">component</span>
<span class="n">ugosa</span><span class="p">:</span> <span class="n">Geostrophic</span> <span class="n">velocity</span> <span class="n">anomalies</span><span class="p">:</span> <span class="n">zonal</span> <span class="n">component</span>
 <span class="n">vgos</span><span class="p">:</span> <span class="n">Absolute</span> <span class="n">geostrophic</span> <span class="n">velocity</span><span class="p">:</span> <span class="n">meridian</span> <span class="n">component</span>
<span class="n">vgosa</span><span class="p">:</span> <span class="n">Geostrophic</span> <span class="n">velocity</span> <span class="n">anomalies</span><span class="p">:</span> <span class="n">meridian</span> <span class="n">component</span>
</pre></div>
</div>
</div>
<div class="section" id="create-and-connect-to-dask-distributed-cluster">
<h2>Create and Connect to Dask Distributed Cluster<a class="headerlink" href="#create-and-connect-to-dask-distributed-cluster" title="Permalink to this headline">¶</a></h2>
<div class="highlight-ipython3"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">dask.distributed</span> <span class="k">import</span> <span class="n">Client</span><span class="p">,</span> <span class="n">progress</span>

<span class="kn">from</span> <span class="nn">dask_kubernetes</span> <span class="k">import</span> <span class="n">KubeCluster</span>
<span class="n">cluster</span> <span class="o">=</span> <span class="n">KubeCluster</span><span class="p">(</span><span class="n">n_workers</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
<span class="n">cluster</span>
</pre></div>
</div>
<pre class="literal-block">
VBox(children=(HTML(value='&lt;h2&gt;KubeCluster&lt;/h2&gt;'), HBox(children=(HTML(value='n&lt;div&gt;n  &lt;style scoped&gt;n    .…
</pre>
<p>** ☝️ Don’t forget to click the link above to view the scheduler
dashboard! **</p>
<div class="highlight-ipython3"><div class="highlight"><pre><span></span><span class="n">client</span> <span class="o">=</span> <span class="n">Client</span><span class="p">(</span><span class="n">cluster</span><span class="p">)</span>
<span class="n">client</span>
</pre></div>
</div>
<table style="border: 2px solid white;">
<tr>
<td style="vertical-align: top; border: 0px solid white">
<h3>Client</h3>
<ul>
  <li><b>Scheduler: </b>tcp://10.21.61.9:44494
  <li><b>Dashboard: </b><a href='/user/rabernat/proxy/8787/status' target='_blank'>/user/rabernat/proxy/8787/status</a>
</ul>
</td>
<td style="vertical-align: top; border: 0px solid white">
<h3>Cluster</h3>
<ul>
  <li><b>Workers: </b>20</li>
  <li><b>Cores: </b>40</li>
  <li><b>Memory: </b>440.00 GB</li>
</ul>
</td>
</tr>
</table><div class="section" id="visually-examine-some-of-the-data">
<h3>Visually Examine Some of the Data<a class="headerlink" href="#visually-examine-some-of-the-data" title="Permalink to this headline">¶</a></h3>
<p>Let’s do a sanity check that the data looks reasonable:</p>
<div class="highlight-ipython3"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s1">&#39;figure.figsize&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="mi">15</span><span class="p">,</span> <span class="mi">8</span><span class="p">)</span>
<span class="n">ds</span><span class="o">.</span><span class="n">sla</span><span class="o">.</span><span class="n">sel</span><span class="p">(</span><span class="n">time</span><span class="o">=</span><span class="s1">&#39;1982-08-07&#39;</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="s1">&#39;nearest&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">matplotlib</span><span class="o">.</span><span class="n">collections</span><span class="o">.</span><span class="n">QuadMesh</span> <span class="n">at</span> <span class="mh">0x7f83ecf44550</span><span class="o">&gt;</span>
</pre></div>
</div>
<img alt="../../_images/sea-surface-height_0.png" src="../../_images/sea-surface-height_0.png" />
</div>
<div class="section" id="timeseries-of-global-mean-sea-level">
<h3>Timeseries of Global Mean Sea Level<a class="headerlink" href="#timeseries-of-global-mean-sea-level" title="Permalink to this headline">¶</a></h3>
<p>Here we make a simple yet fundamental calculation: the rate of increase
of global mean sea level over the observational period.</p>
<div class="highlight-ipython3"><div class="highlight"><pre><span></span><span class="c1"># the number of GB involved in the reduction</span>
<span class="n">ds</span><span class="o">.</span><span class="n">sla</span><span class="o">.</span><span class="n">nbytes</span><span class="o">/</span><span class="mf">1e9</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="mf">73.8284544</span>
</pre></div>
</div>
<div class="highlight-ipython3"><div class="highlight"><pre><span></span><span class="c1"># the computationally intensive step</span>
<span class="n">sla_timeseries</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">sla</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">dim</span><span class="o">=</span><span class="p">(</span><span class="s1">&#39;latitude&#39;</span><span class="p">,</span> <span class="s1">&#39;longitude&#39;</span><span class="p">))</span><span class="o">.</span><span class="n">load</span><span class="p">()</span>
</pre></div>
</div>
<div class="highlight-ipython3"><div class="highlight"><pre><span></span><span class="n">sla_timeseries</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s1">&#39;full data&#39;</span><span class="p">)</span>
<span class="n">sla_timeseries</span><span class="o">.</span><span class="n">rolling</span><span class="p">(</span><span class="n">time</span><span class="o">=</span><span class="mi">365</span><span class="p">,</span> <span class="n">center</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s1">&#39;rolling annual mean&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">()</span>
</pre></div>
</div>
<img alt="../../_images/sea-surface-height_1.png" src="../../_images/sea-surface-height_1.png" />
<p>Astute readers will note that this global mean is biased because the
pixels were averaged naively, neglecting the spherical geometry of
Earth. Below we repeat with a proper a weighing factor based on cosine
of latitude.</p>
<div class="highlight-ipython3"><div class="highlight"><pre><span></span><span class="n">coslat</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">deg2rad</span><span class="p">(</span><span class="n">ds</span><span class="o">.</span><span class="n">latitude</span><span class="p">))</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="o">~</span><span class="n">ds</span><span class="o">.</span><span class="n">sla</span><span class="o">.</span><span class="n">isnull</span><span class="p">())</span>
<span class="n">weights</span> <span class="o">=</span> <span class="n">coslat</span> <span class="o">/</span> <span class="n">coslat</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">dim</span><span class="o">=</span><span class="p">(</span><span class="s1">&#39;latitude&#39;</span><span class="p">,</span> <span class="s1">&#39;longitude&#39;</span><span class="p">))</span>
<span class="n">sla_timeseries_weighted</span> <span class="o">=</span> <span class="p">(</span><span class="n">ds</span><span class="o">.</span><span class="n">sla</span> <span class="o">*</span> <span class="n">weights</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">dim</span><span class="o">=</span><span class="p">(</span><span class="s1">&#39;latitude&#39;</span><span class="p">,</span> <span class="s1">&#39;longitude&#39;</span><span class="p">))</span>
<span class="n">sla_timeseries_weighted</span><span class="o">.</span><span class="n">load</span><span class="p">()</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">xarray</span><span class="o">.</span><span class="n">DataArray</span> <span class="p">(</span><span class="n">time</span><span class="p">:</span> <span class="mi">8901</span><span class="p">)</span><span class="o">&gt;</span>
<span class="n">array</span><span class="p">([</span><span class="o">-</span><span class="mf">0.000846</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.00104</span> <span class="p">,</span> <span class="o">-</span><span class="mf">0.001204</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span>  <span class="mf">0.070539</span><span class="p">,</span>  <span class="mf">0.070415</span><span class="p">,</span>  <span class="mf">0.070242</span><span class="p">])</span>
<span class="n">Coordinates</span><span class="p">:</span>
    <span class="n">crs</span>      <span class="n">int32</span> <span class="o">-</span><span class="mi">2147483647</span>
  <span class="o">*</span> <span class="n">time</span>     <span class="p">(</span><span class="n">time</span><span class="p">)</span> <span class="n">datetime64</span><span class="p">[</span><span class="n">ns</span><span class="p">]</span> <span class="mi">1993</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">01</span> <span class="mi">1993</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">02</span> <span class="mi">1993</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">03</span> <span class="o">...</span>
</pre></div>
</div>
<div class="highlight-ipython3"><div class="highlight"><pre><span></span><span class="n">sla_timeseries</span><span class="o">.</span><span class="n">rolling</span><span class="p">(</span><span class="n">time</span><span class="o">=</span><span class="mi">365</span><span class="p">,</span> <span class="n">center</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s1">&#39;unweighted&#39;</span><span class="p">)</span>
<span class="n">sla_timeseries_weighted</span><span class="o">.</span><span class="n">rolling</span><span class="p">(</span><span class="n">time</span><span class="o">=</span><span class="mi">365</span><span class="p">,</span> <span class="n">center</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s1">&#39;weighted&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">()</span>
</pre></div>
</div>
<img alt="../../_images/sea-surface-height_2.png" src="../../_images/sea-surface-height_2.png" />
<p>In this case, the weighting actually didn’t make much difference!</p>
<p>In order to understand how the sea level rise is distributed in
latitude, we can make a sort of <a class="reference external" href="https://en.wikipedia.org/wiki/Hovm%C3%B6ller_diagram">Hovmöller
diagram</a>.</p>
<div class="highlight-ipython3"><div class="highlight"><pre><span></span><span class="n">sla_hov</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">sla</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">dim</span><span class="o">=</span><span class="s1">&#39;longitude&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">load</span><span class="p">()</span>
</pre></div>
</div>
<div class="highlight-ipython3"><div class="highlight"><pre><span></span><span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span>
<span class="n">sla_hov</span><span class="o">.</span><span class="n">transpose</span><span class="p">()</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">vmax</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">matplotlib</span><span class="o">.</span><span class="n">collections</span><span class="o">.</span><span class="n">QuadMesh</span> <span class="n">at</span> <span class="mh">0x7f83e07d8320</span><span class="o">&gt;</span>
</pre></div>
</div>
<img alt="../../_images/sea-surface-height_3.png" src="../../_images/sea-surface-height_3.png" />
<p>We can see that most sea level rise is actually in the Southern
Hemisphere.</p>
</div>
<div class="section" id="sea-level-variability">
<h3>Sea Level Variability<a class="headerlink" href="#sea-level-variability" title="Permalink to this headline">¶</a></h3>
<p>We can quantify the natural variability in sea level by looking at its
standard deviation in time. (We have not bothered to remove the trend;
in this case, the trend is much smaller than the interannual
variability.)</p>
<div class="highlight-ipython3"><div class="highlight"><pre><span></span><span class="n">sla_std</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">sla</span><span class="o">.</span><span class="n">std</span><span class="p">(</span><span class="n">dim</span><span class="o">=</span><span class="s1">&#39;time&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">load</span><span class="p">()</span>
</pre></div>
</div>
<div class="highlight-ipython3"><div class="highlight"><pre><span></span><span class="n">sla_std</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">matplotlib</span><span class="o">.</span><span class="n">collections</span><span class="o">.</span><span class="n">QuadMesh</span> <span class="n">at</span> <span class="mh">0x7f83e03a9b00</span><span class="o">&gt;</span>
</pre></div>
</div>
<img alt="../../_images/sea-surface-height_4.png" src="../../_images/sea-surface-height_4.png" />
<div class="sphx-glr-download docutils container">
<p><strong>Download python script:</strong> <a class="reference download internal" href="../../_downloads/sea-surface-height.py" download=""><code class="xref download docutils literal"><span class="pre">sea-surface-height.py</span></code></a></p>
<p><strong>Download Jupyter notebook:</strong> <a class="reference download internal" href="../../_downloads/sea-surface-height.ipynb" download=""><code class="xref download docutils literal"><span class="pre">sea-surface-height.ipynb</span></code></a></p>
</div>
</div>
</div>
</div>


      
    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2018, Pangeo Team.<br/>
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.6.5.<br/>
    </p>
  </div>
</footer>

<script async src="https://www.googletagmanager.com/gtag/js?id=UA-120544092-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-120544092-1');
</script>
  </body>
</html>